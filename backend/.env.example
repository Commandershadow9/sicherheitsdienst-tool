# Server
PORT=3001
NODE_ENV=development

# Database
DATABASE_URL="postgresql://admin:admin123@localhost:5432/sicherheitsdienst_db?schema=public"

# JWT
JWT_SECRET=your-jwt-secret-here
JWT_EXPIRES_IN=7d
# Optional JWT Claims (issuer/audience)
JWT_ISSUER=sicherheitsdienst-tool
JWT_AUDIENCE=sicherheitsdienst-clients

# Logging
# Mögliche Werte: error, warn, info, http, debug
LOG_LEVEL=debug

# Optional Refresh
REFRESH_SECRET=your-refresh-secret-here
REFRESH_EXPIRES_IN=30d

# CORS
FRONTEND_URL=http://localhost:3000
MOBILE_APP_URL=http://localhost:19000
# Einzelner Origin (z. B. Vite Dev-Server)
CORS_ORIGIN=http://localhost:5173
# Optional: Kommagetrennte Allowlist. Falls gesetzt, überschreibt sie FRONTEND_URL/MOBILE_APP_URL.
# Beispiel: http://localhost:3000,https://admin.example.com
CORS_ORIGINS=

# SMTP (optional; für Benachrichtigungen)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=mailer@example.com
SMTP_PASS=change-me
SMTP_FROM="Security Tool <no-reply@example.com>"
# SMTP Retry (optional)
SMTP_RETRY_MAX=1
SMTP_RETRY_DELAY_MS=200

# Feature-Flag: E-Mail-Benachrichtigungen bei Schicht-Änderungen
# Setze auf "true", um beim Erstellen/Aktualisieren/Löschen von Schichten E-Mails an zugewiesene Mitarbeiter zu versenden
EMAIL_NOTIFY_SHIFTS=false

# Rate Limit für Notifications-Testendpoint
# Max Requests pro Fenster (Default 10/Minute)
NOTIFICATIONS_TEST_RATE_LIMIT_PER_MIN=10
# Fenster in ms (Default 60000)
NOTIFICATIONS_TEST_RATE_LIMIT_WINDOW_MS=60000
# Toggle (true/false). In Production meist 'true'.
NOTIFICATIONS_TEST_RATE_LIMIT_ENABLED=true

# Rate Limit für Auth (Login/Refresh)
# IP‑basiert: Standard 10 Req/Minute (nur /api/auth/*)
RATE_LIMIT_MAX=10
RATE_LIMIT_WINDOW_MS=60000

# Optional Write Rate Limit (POST/PUT/DELETE)
WRITE_RATE_LIMIT_PER_MIN=30
WRITE_RATE_LIMIT_WINDOW_MS=60000
WRITE_RATE_LIMIT_ENABLED=false

# Push-Benachrichtigungen (Events)
# Aktiviert Push bei Event-Erstellung/-Aktualisierung
PUSH_NOTIFY_EVENTS=false
# FCM Konfiguration (für Firebase Admin SDK – für produktive Pushes erforderlich)
FCM_PROJECT_ID=
FCM_CLIENT_EMAIL=
# Achtung: Private Key als String mit \n-Zeilenumbrüchen eintragen
FCM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# Build/Release-Metadaten (von CI gesetzt; lokal optional)
# Optional: überschreibt das Auslesen aus docs/openapi.yaml:info.version
SPEC_VERSION=
# Git Commit SHA für Build/Release-Transparenz
BUILD_SHA=

# Readiness‑Checks (optional)
# Aktiviert einen SMTP‑Verify im Readiness‑Endpoint (/readyz). Standard: false (nur Signal ok/skip ohne Netzwerkzugriff)
READINESS_CHECK_SMTP=false
# Timeout (ms) für SMTP‑Verify, falls aktiviert
READINESS_SMTP_TIMEOUT_MS=1500
