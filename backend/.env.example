# Backend ENV (Dev)

# Server
PORT=3000
NODE_ENV=development
LOG_LEVEL=debug
# LOG_FORMAT=json

# Auth
JWT_SECRET=change-me
REFRESH_SECRET=change-me-refresh
# Optional: Laufzeit der Tokens (z. B. 7d / 3600)
JWT_EXPIRES_IN=7d
REFRESH_EXPIRES_IN=30d

# Datenbank (Dev-Compose setzt DATABASE_URL automatisch)
# DATABASE_URL=postgresql://security:dev@localhost:5432/security?schema=public

# CORS
# Einzelner Origin (z. B. Vite Dev-Server)
CORS_ORIGIN=http://localhost:5173
# Alternativ Allowlist (kommagetrennt). Falls gesetzt, Ã¼berschreibt sie CORS_ORIGIN.
# CORS_ORIGINS=http://localhost:5173,https://admin.example.com

# Rate Limits (optional)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_SKIP_PATHS=/healthz,/readyz,/api/stats
LOGIN_RATE_LIMIT_MAX=5
LOGIN_RATE_LIMIT_WINDOW_MS=900000
WRITE_RATE_LIMIT_ENABLED=true
WRITE_RATE_LIMIT_PER_MIN=60
WRITE_RATE_LIMIT_WINDOW_MS=60000
SHIFT_ASSIGN_RATE_LIMIT_ENABLED=true
SHIFT_ASSIGN_RATE_LIMIT_PER_MIN=12
SHIFT_ASSIGN_RATE_LIMIT_WINDOW_MS=60000
SHIFT_CLOCK_RATE_LIMIT_ENABLED=true
SHIFT_CLOCK_RATE_LIMIT_PER_MIN=20
SHIFT_CLOCK_RATE_LIMIT_WINDOW_MS=60000

# Feature-Flags (optional)
EMAIL_NOTIFY_SHIFTS=false
PUSH_NOTIFY_EVENTS=false
EMAIL_NOTIFY_INCIDENTS=false
PUSH_NOTIFY_INCIDENTS=false
NOTIFY_EVENTS_HEARTBEAT_MS=15000

# SMTP (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=Security Tool <no-reply@example.com>

# Build/Readiness (optional)
READINESS_CHECK_SMTP=false
READINESS_SMTP_TIMEOUT_MS=1500
SPEC_VERSION=
BUILD_SHA=
